import{b,c as L,d as E,e as k,g as T,h as I,l as N,p as F}from"./chunk-OLX4P3BV.js";import{e as y}from"./chunk-T2WOBZFG.js";import{a as M}from"./chunk-G6YMI72D.js";import"./chunk-NG4Y3N7M.js";import"./chunk-7LF3CIKX.js";import"./chunk-YFI3VPVI.js";import{Ea as S,Ia as v,La as e,Ma as n,Oa as g,Pa as _,Qa as p,Sa as a,Ta as x,Va as f,W as h,Wa as w,Xa as C,Za as V,da as m,ea as d,ua as c,va as u}from"./chunk-QR7DDJMX.js";function D(s,l){if(s&1){let i=g();e(0,"a",9),_("click",function(){m(i);let o=p();return d(o.login())})("keydown.enter",function(){m(i);let o=p();return d(o.login())}),e(1,"button",10),a(2,"Se connecter"),n()()}}function P(s,l){if(s&1){let i=g();e(0,"a",11),_("click",function(){m(i);let o=p();return d(o.logout())}),e(1,"button",10),a(2,"Se d\xE9connecter"),n()()}}var W=class s{constructor(l,i){this.authService=l;this.router=i}message="Vous \xEAtes deconnect\xE9.";email="";password="";setMessage(){this.authService.isLoggedIn?this.message="Vous \xEAtes connecter.":this.message="Identifiant ou mot de passe incorrecte."}login(){this.message="Tentative de connexion en cours",this.authService.login(this.email,this.password).subscribe(l=>{this.setMessage(),l?this.router.navigate(["/home"]):(this.password="",this.router.navigate(["/login"]))})}logout(){this.authService.logout(),this.message="Vous \xEAtes deconnect\xE9."}static \u0275fac=function(i){return new(i||s)(u(M),u(y))};static \u0275cmp=h({type:s,selectors:[["app-login"]],standalone:!0,features:[V],decls:20,vars:4,consts:[["loginForm","ngForm"],[1,"login-content","container-center","col","bg-main","text-main","p-4","m-2","shadow","rounded-xl"],[1,"font-bold","text-xl","text-center"],[1,"container-center","col"],[1,"mb-2","col"],["for","email"],["type","text","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],[3,"click","keydown.enter"],[1,"bg-header-button","rounded-lg","py-2","px-3","border-0"],[3,"click"]],template:function(i,t){if(i&1){let o=g();e(0,"div",1)(1,"div",2)(2,"span"),a(3,"Page de connexion"),n(),e(4,"p")(5,"em"),a(6),n()()(),e(7,"form",3,0)(9,"div",4)(10,"label",5),a(11,"Email: "),n(),e(12,"input",6),C("ngModelChange",function(r){return m(o),w(t.email,r)||(t.email=r),d(r)}),n()(),e(13,"div",4)(14,"label",7),a(15,"Mot de passe: "),n(),e(16,"input",8),C("ngModelChange",function(r){return m(o),w(t.password,r)||(t.password=r),d(r)}),n()(),e(17,"div"),S(18,D,3,0,"a")(19,P,3,0,"a"),n()()()}i&2&&(c(6),x(t.message),c(6),f("ngModel",t.email),c(4),f("ngModel",t.password),c(2),v(t.authService.isLoggedIn?19:18))},dependencies:[F,I,b,L,E,N,T,k]})};export{W as LoginComponent};
