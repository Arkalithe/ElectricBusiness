import{a as c}from"./chunk-NG4Y3N7M.js";import{O as u,T as l,j as t,q as o}from"./chunk-QR7DDJMX.js";var a=class r{constructor(s){this.userService=s}isLoggedInSubject=new t(!1);isLoggedIn$=this.isLoggedInSubject.asObservable();roleSubject=new t(null);role=this.roleSubject.asObservable();currentUserSubject=new t(null);currentUser$=this.currentUserSubject.asObservable();login(s,n){return this.userService.getUsers().pipe(o(b=>{let e=b.find(i=>i.email===s&&i.password===n);return e?(this.isLoggedInSubject.next(!0),this.roleSubject.next(e.role),this.currentUserSubject.next(e)):(this.isLoggedInSubject.next(!1),this.roleSubject.next(null),this.currentUserSubject.next(null)),!!e}))}logout(){this.isLoggedInSubject.next(!1),this.roleSubject.next(null),this.currentUserSubject.next(null)}get isLoggedIn(){return this.isLoggedInSubject.value}get currentUser(){return this.currentUserSubject.value}static \u0275fac=function(n){return new(n||r)(l(c))};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};export{a};
